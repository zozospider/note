


---

# 一 切片与 MapTask 并行度决定机制

## 1.1 问题引出

MapTask 的并行度决定 Map 阶段的任务处理并发度, 进而影响到整个 Job 的处理速度.

_思考: 1G 的数据, 启动 8 个 MapTask, 可以提高集群的并发能力. 那么 1K 的数据, 也启动 8 个 MapTask, 会提高集群性能吗? MapTask 是否越多越好, 那些因素影响了 MapTask 并行度?_

## 1.2 MapTask 并行度机制

- __数据块__: Block 是 HDFS 物理上把数据分成一块一块.
- __数据切片__: 数据切片只是在逻辑上对输入进行分片, 并不会在磁盘上将其切分成片进行存储.

![image]()

---

# 二 Job 提交流程源码和切片源码

---

# 三 FileInputFormat 切片机制

---
