
# 大纲

`ZooKeeper 原理与实践`

- 事务
  - ACID
  - 弱隔离级别
  - 串行化
- 复制
  - 主节点与从节点
  - 复制滞后问题
- 分布式系统的挑战
  - 不可靠的网络
  - 不可靠的时钟
- 一致性与共识
  - 顺序和一致性 (可线性化)
  - 两阶段提交
  - 全序关系广播
  - 成员与协调服务 (ZooKeeper)
- ZooKeeper
  - ZooKeeper 概念
    - 事务日志 & 快照
    - 角色
    - 会话
  - ZooKeeper 应用
    - 开源软件
    - Demo
    - Configurator

# 总体进度

从单节点事务开始讲述普通的数据系统满足的 ACID 特性
- 1. 并讲述其中的隔离级别
  - 脏读, 脏写 -> 读 - 提交
  - 读倾斜 -> 可重复读
  - 写倾斜 -> 防止更新丢失
- 2. 串行化
  - 存储过程
  - 两阶段加锁
  - 悲观与乐观的并发控制

然后引入多节点系统
- 1. 介绍主要的分类:
  - 高性能
  - 云计算
  - 多主
  - 无主
  - 主从
- 2. 说明其中的挑战:
  - 网络
  - 时钟
  - 拜占庭式故障 
- 3. 说明需求:
  - 顺序概念和一致性保证 (可线性化)
  - 原子事务提交
  - 锁与租约 / 唯一性约束
  - 成员 / 协调服务
- 4. 并表示需要一个理论系统模型与现实, 从而引出共识算法.
- 5. 然后引入两阶段提交解决共识问题并说明缺点.
- 6. 然后引出全序关系广播解决共识问题. (Raft, Zab, Paxos)
- 7. 并进而引出 ZOoKeeper 通过全序关系广播解决共识问题的实践.
- 8. 引入复制的细节.
